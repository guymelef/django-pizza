{{regularPizza|json_script:"regularPizza-items"}}
{{sicilianPizza|json_script:"sicilianPizza-items"}}
{{pizzaTopping|json_script:"pizzaTopping-items"}}
{{sub|json_script:"sub-items"}}
{{pasta|json_script:"pasta-items"}}
{{salad|json_script:"salad-items"}}
{{dinnerPlatter|json_script:"dinnerPlatter-items"}}

    <script id="modalContent" type="text/template">
      <form id="menuModalForm" name="{%verbatim%}{{menuType}}{%endverbatim%}" onkeydown="return event.key !== 'Enter';" action="{% url 'addorder' %}">
        {% csrf_token %}
        <div id="menuQuantity">
          <h5 class="font-weight-bold"><u>Quantity</u>:</h5>
          <button type="button" id="minusBtn" class="btn border border-dark rounded-circle font-weight-bold btn-ctrl text-white">&minus;</button>
          <input id="orderQty" class="quantity border-dark rounded-sm text-center p-1" min="1" name="quantity" value="1" type="number">
          <button type="button" id="plusBtn"class="btn border border-dark rounded-circle font-weight-bold btn-ctrl text-white">&plus;</button>
        </div>
        {% verbatim %}
          {{#if pizza}}
            <div id="menuItems">
              <h5 class="font-weight-bold mt-4"><u>Select a pizza</u>:</h5>
              <input type="hidden" name="category" value="pizza">
              <input type="hidden" name="type" value="{{menuType}}">
              <table class="w-55 table table-sm table-hover table-borderless">
                <thead>
                  <tr>
                    <th scope="col" class="text-center"></th>
                    <th scope="col" class="text-center bg-danger border">SMALL</th>
                    <th scope="col" class="text-center bg-danger border">LARGE</th>
                  </tr>
                </thead>
                <tbody>
                  {{#each pizza}}
                    <tr>
                      <th scope="row" class="text-right border-danger border-bottom">{{this.name}}</th>
                      <td class="text-center border-bottom border-danger">
                        <div class="custom-control custom-radio">
                          <input type="radio" id="pizzaSmall{{this.id}}" class="custom-control-input" name="size" value="small-{{this.id}}" data-name="{{this.name}}" data-price="{{this.small}}">
                          <label for="pizzaSmall{{this.id}}" class="custom-control-label font-weight-bold font-weight-bold">
                            ${{this.small}}
                          </label>
                        </div>
                      </td>
                      <td class="text-center border-bottom border-danger">
                        <div class="custom-control custom-radio">
                          <input type="radio" id="pizzaLarge{{this.id}}" class="custom-control-input" name="size" value="large-{{this.id}}" data-name="{{this.name}}" data-price="{{this.large}}">
                          <label for="pizzaLarge{{this.id}}" class="custom-control-label font-weight-bold font-weight-bold">
                            ${{this.large}}
                          </label>
                        </div>
                      </td>
                    </tr>
                  {{/each}}        
                </tbody>
              </table>
            </div>
            <div id="menuAddons">
              <h5 class="font-weight-bold mt-4"><u>Choose your toppings</u>:</h5>
              <ul class="list-unstyled">
                {{#each toppings}}
                <li>
                  <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="topping{{this.id}}" name="toppings" value={{this.id}}>
                    <label for="topping{{this.id}}" class="custom-control-label font-weight-bold">
                      {{this.name}}
                    </label>
                  </div>
                </li>
                {{/each}}
              </ul>
            </div>      
          {{/if}}
          {{#if subX}}
            <div id="menuSize">
              <h5 class="font-weight-bold mt-4"><u>Pick a size</u>:</h5>
              <input type="hidden" name="category" value="sub">
              <input type="hidden" name="type" value="{{subX.id}}">
              <ul class="list-unstyled">
                <li>
                  <div class="custom-control custom-radio">
                    <input type="radio" class="custom-control-input" id="subSmall" name="size" value="small" data-price="{{subX.small}}">
                    <label for="subSmall" class="custom-control-label font-weight-bold">
                      Small <span class="badge badge-success p-1">${{subX.small}}</span>
                    </label>
                  </div>
                </li>
                <li>
                  <div class="custom-control custom-radio">
                    <input type="radio" class="custom-control-input" id="subLarge" name="size" value="large" data-price="{{subX.large}}">
                    <label for="subLarge" class="custom-control-label font-weight-bold">
                      Large <span class="badge badge-success p-1">${{subX.large}}</span>
                    </label>
                  </div>
                </li>
              </ul>
            </div>
            <div id="menuAddons">
              <h5 class="font-weight-bold mt-4"><u>Add something extra</u>:</h5>
              <ul class="list-unstyled">
                {{#each extras}}
                <li>
                  <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="subExtra{{this.id}}" name="subExtras" value="{{this.id}}" data-price="{{this.price}}">
                    <label for="subExtra{{this.id}}" class="custom-control-label font-weight-bold">
                      {{this.name}} 
                      <span class="badge badge-warning p-1">&plus;${{this.price}}</span>
                    </label>
                  </div>
                </li>
                {{/each}}
              </ul>
            </div>      
          {{/if}}
          {{#if sub}}
            <div id="menuSize">
              <h5 class="font-weight-bold mt-4"><u>Pick a size</u>:</h5>
              <input type="hidden" name="category" value="sub">
              <input type="hidden" name="type" value="{{sub.id}}">
              <ul class="list-unstyled">
                {{#if sub.small}}
                  <li>
                    <div class="custom-control custom-radio">
                      <input type="radio" class="custom-control-input" id="subSmall" name="size" value="small" data-price="{{sub.small}}">
                      <label for="subSmall" class="custom-control-label font-weight-bold">
                        Small <span class="badge badge-success p-1">${{sub.small}}</span>
                      </label>
                    </div>
                  </li>
                {{/if}}
                <li>
                  <div class="custom-control custom-radio">
                    <input type="radio" class="custom-control-input" id="subLarge" name="size" value="large" data-price="{{sub.large}}">
                    <label for="subLarge" class="custom-control-label font-weight-bold">
                      Large <span class="badge badge-success p-1">${{sub.large}}</span>
                  </div>
                </li>
              </ul>
            </div>
            <div id="menuAddons">
              <h5 class="font-weight-bold mt-4"><u>Add something extra</u>:</h5>
              <ul class="list-unstyled">
                <li>
                  <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="subExtra" name="subExtras" value="{{sub.add_Ons__id}}" data-price="{{sub.add_Ons__price}}">
                    <label for="subExtra" class="custom-control-label font-weight-bold">
                      {{sub.add_Ons__name}} 
                      <span class="badge badge-warning p-1">&plus;${{sub.add_Ons__price}}</span>
                    </label>
                  </div>
                </li>
              </ul>
            </div>
          {{/if}}
          {{#if dinnerPlatter}}
            <div id="menuSize">
              <h5 class="font-weight-bold mt-4"><u>Pick a size</u>:</h5>
              <input type="hidden" name="category" value="dinnerPlatter">
              <input type="hidden" name="type" value="{{dinnerPlatter.id}}">
              <ul class="list-unstyled">
                <li>
                  <div class="custom-control custom-radio">
                    <input type="radio" class="custom-control-input" id="dinnerPlatterSmall" name="size" value="small" data-price="{{dinnerPlatter.small}}">
                    <label for="dinnerPlatterSmall" class="custom-control-label font-weight-bold">
                      Small 
                      <span class="badge badge-success p-1">${{dinnerPlatter.small}}</span>
                    </label>
                  </div>
                </li>
                <li>
                  <div class="custom-control custom-radio">
                    <input type="radio" class="custom-control-input" id="dinnerPlatterLarge" name="size" value="large" data-price="{{dinnerPlatter.large}}">
                    <label for="dinnerPlatterLarge" class="custom-control-label font-weight-bold">
                      Large 
                      <span class="badge badge-success p-1">${{dinnerPlatter.large}}</span>
                    </label>
                  </div>
                </li>
              </ul>
            </div>
          {{/if}}
          {{#if menuItem}}
            <div id="pastaSalad">
              <h5 class="mt-4 font-weight-bold">
                <div class="pastaSalad" data-price="{{menuItem.price}}">
                  <u>Price</u>: <span class="badge badge-success p-1">${{menuItem.price}}</span>
                </div>
              </h5>
              <input type="hidden" name="category" value="{{menuType}}">
              <input type="hidden" name="type" value="{{menuItem.id}}">
            </div>
          {{/if}}
        {% endverbatim %}
      </form>
    </script>

    <script id="cart_item" type="text/template">
      {% verbatim %}
      <tr data-orderid="{{order_id}}">
        <th scope="row">{{ quantity }}</th>
        <td>
          {{name}}
          {{#if size}}
            <span class="badge badge-secondary rounded-0">{{size}}</span>
          {{/if}}
          {{#if extras}}
            <br>
            <small><strong>with</strong> {{extras}}</small>
          {{/if}}
        </td>
        <td>
          <i class="far fa-trash-alt text-danger text-center" title="Delete order?" onclick="deleteOrder(this)"></i>
        </td>
        <td class="text-right">
          <span class="font-weight-bolder text-success">$</span><span class="text-success"><u>{{total}}</u></span>
        </td>
      </tr>
      {% endverbatim %}
    </script>